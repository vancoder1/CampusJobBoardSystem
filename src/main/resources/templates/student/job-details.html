<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: head-content}">
    <title>Campus Job Board</title>
</head>
<body class="d-flex flex-column min-vh-100">
<div th:replace="~{fragments/header :: navbar}"></div>

<div class="content-wrapper flex-grow-1">
    <div class="container mt-5">
    <div class="row">
        <div class="col-lg-8">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h3 class="mb-0" th:text="${job.title}">Job Title</h3>
                </div>
                <div class="card-body">
                    <div class="mb-4">
                        <h5 class="text-muted">Posted by</h5>
                        <p class="lead" th:text="${job.employer.fullName}">Company Name</p>
                    </div>
                    
                    <div class="mb-4">
                        <h5 class="text-muted">Job Description</h5>
                        <p th:text="${job.description}" style="white-space: pre-line;">Description</p>
                    </div>
                    
                    <hr>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <h6><i class="bi bi-geo-alt"></i> Location</h6>
                            <p th:text="${job.location} ?: 'Not specified'">Location</p>
                        </div>
                        <div class="col-md-6 mb-3">
                            <h6><i class="bi bi-currency-dollar"></i> Salary</h6>
                            <p>
                                <span th:if="${job.salary != null}">$<span th:text="${#numbers.formatDecimal(job.salary, 1, 2)}"></span>/hr</span>
                                <span th:if="${job.salary == null}">Not specified</span>
                            </p>
                        </div>
                        <div class="col-md-6 mb-3">
                            <h6><i class="bi bi-tag"></i> Category</h6>
                            <p th:text="${job.category} ?: 'Not specified'">Category</p>
                        </div>
                        <div class="col-md-6 mb-3">
                            <h6><i class="bi bi-calendar"></i> Application Deadline</h6>
                            <p>
                                <span th:if="${job.deadline != null}" th:text="${#temporals.format(job.deadline, 'MMMM dd, yyyy')}"></span>
                                <span th:if="${job.deadline == null}">No deadline</span>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="d-flex gap-2">
                        <form th:action="@{/student/job/{id}/apply(id=${job.id})}" method="post">
                            <button type="submit" class="btn btn-success btn-lg">
                                <i class="bi bi-send"></i> Apply Now
                            </button>
                        </form>
                        <a href="/student/dashboard" class="btn btn-outline-secondary btn-lg">Back to Jobs</a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">About the Employer</h5>
                </div>
                <div class="card-body">
                    <p><strong>Name:</strong> <span th:text="${job.employer.fullName}"></span></p>
                    <p><strong>Email:</strong> <span th:text="${job.employer.email}"></span></p>
                </div>
            </div>
        </div>
    </div>
    </div>
</div>

<div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>
